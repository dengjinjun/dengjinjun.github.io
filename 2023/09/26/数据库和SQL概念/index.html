<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="数据库和SQL概念" />
    <meta name="hexo-theme-A4" content="v1.9.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Dengpangpang</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--返回顶部css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--目录-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Dengpangpang</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">🍟首页</a></li>
            
        
            
                <li><a href="/list/">📝文章</a></li>
            
        
            
                <li><a href="/tags/">🏷️标签</a></li>
            
        
            
                <li><a href="/categories/">🗂️分类</a></li>
            
        
            
                <li><a href="/about/">👁️关于</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            数据库和SQL概念
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5"><span class="post-toc-text">数据库概念</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-text">关系型数据库和非关系型数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%BB%E9%94%AE%E3%80%81%E5%A4%96%E9%94%AE%E3%80%81%E7%B4%A2%E5%BC%95"><span class="post-toc-text">主键、外键、索引</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SQL%E6%A6%82%E5%BF%B5"><span class="post-toc-text">SQL概念</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSQL"><span class="post-toc-text">什么是SQL</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SQL%E5%88%86%E7%B1%BB"><span class="post-toc-text">SQL分类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SQL%E8%AF%AD%E6%B3%95"><span class="post-toc-text">SQL语法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SQL%E7%BA%A6%E6%9D%9F"><span class="post-toc-text">SQL约束</span></a></li></ol></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="数据库概念"><a href="#数据库概念" class="headerlink" title="数据库概念"></a>数据库概念</h2><p>客户端、数据库以及数据库管理系统的关系</p>
<p><a href="/../pic/1603185856048.png" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/1603185856048.png"></a></p>
<h3 id="关系型数据库和非关系型数据库"><a href="#关系型数据库和非关系型数据库" class="headerlink" title="关系型数据库和非关系型数据库"></a>关系型数据库和非关系型数据库</h3><blockquote>
<p>关系型数据库</p>
</blockquote>
<p><strong>采用了关系模型来组织数据的数据库。</strong>关系模型指的就是二维表格模型，而一个关系型数据库就是由二维表及其之间的联系所组成的一个数据组织。</p>
<p>关系模型中的常用概念</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">关系：一张二维表，每个关系都具有一个关系名，也就是表名</span><br><span class="line">元组：二维表中的一行，在数据库中被称为记录</span><br><span class="line">属性：二维表中的一列，在数据库中被称为字段</span><br><span class="line">域：属性的取值范围，也就是数据库中某一列的取值限制</span><br><span class="line">关键字：一组可以唯一标识元组的属性，数据库中常称为主键，由一个或多个列组成</span><br><span class="line">关系模式：指对关系的描述。其格式为：关系名 (属性 1，属性 2， ... ... ，属性 N)，在数据库中称为表结构</span><br></pre></td></tr></table></figure>

<p>优点</p>
<ol>
<li><strong>容易理解</strong>：二维表结构是非常贴近逻辑世界的一个概念，关系模型相对网状、层次等其他模型来说更容易理解</li>
<li><strong>使用方便</strong>：通用的 SQL 语言使得操作关系型数据库非常方便</li>
<li><strong>易于维护</strong>：丰富的完整性 (实体完整性、参照完整性和用户定义的完整性) 大大减低了数据冗余和数据不一致的概率</li>
</ol>
<p>不足</p>
<ol>
<li>网站的用户并发性非常高，往往达到每秒上万次读写请求，对于传统关系型数据库来说，<strong>硬盘I&#x2F;O是一个很大的瓶颈</strong></li>
<li>网站每天产生的数据量是巨大的，对于关系型数据库来说，在一张包含海量数据的表中<strong>查询，效率是非常低的</strong></li>
<li>在基于 web 的结构当中，<strong>数据库是最难进行横向扩展的</strong>，当一个应用系统的用户量和访问量与日俱增的时候，数据库却没有办法像web server和app server那样简单的通过添加更多的硬件和服务节点来扩展性能和负载能力。当需要对数据库系统进行升级和扩展时，往往需要停机维护和数据迁移。</li>
<li>性能欠佳：在关系型数据库中，<strong>导致性能欠佳的最主要原因是多表的关联查询</strong>，以及复杂的数据分析类型的复杂 SQL 报表查询。为了保证数据库的 ACID 特性，必须尽量按照其要求的范式进行设计，关系型数据库中的表都是存储一个格式化的数据结构。</li>
</ol>
<p>常见的关系型数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MySQL:	开源免费的数据库，小型的数据库。已经被Oracle收购了，MySQL6.x版本也开始收费。</span><br><span class="line">Oracle:	收费的大型数据库，Oracle公司的产品。Oracle收购SUN公司，收购MYSQL。</span><br><span class="line">DB2:	IBM公司的数据库产品,收费的。常应用在银行系统中.</span><br><span class="line">SQLServer:	MicroSoft 公司收费的中型的数据库。C#、.net等语言常使用。</span><br><span class="line">SQLite:	嵌入式的小型数据库，应用在手机端。</span><br><span class="line"></span><br><span class="line">Java常用的数据库:MySQL，Oracle。</span><br><span class="line">Python常用的数据库:MySQL</span><br></pre></td></tr></table></figure>



<blockquote>
<p>非关系型数据库</p>
</blockquote>
<p>非关系型数据库以键值对存储，且结构不固定，每一个元组可以有不一样的字段，每个元组可以根据需要增加一些自己的键值对，不局限于固定的结构，可以减少一些时间和空间的开销。</p>
<p>优点</p>
<ol>
<li><p>用户可以根据需要去添加自己需要的字段，为了获取用户的不同信息，不像关系型数据库中，要对多表进行关联查询。仅需要根据id取出相应的value就可以完成查询。</p>
</li>
<li><p>适用于SNS(Social Networking Services)中，例如 facebook，微博。系统的升级，功能的增加，往往意味着数据结构巨大变动，这一点关系型数据库难以应付，需要新的结构化数据存储。由于不可能用一种数据结构化存储应付所有的新的需求，因此，非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合。</p>
</li>
</ol>
<p>不足</p>
<ol>
<li>只适合存储一些较为简单的数据，对于需要进行较复杂查询的数据，关系型数据库显得更为合适。</li>
<li>不适合持久存储海量数据</li>
</ol>
<blockquote>
<p>数据库结构</p>
</blockquote>
<p>数据库中以表为组织单位存储数据，称为数据库表。</p>
<p>数据库表由：表名、表字段、表记录构成。</p>
<h3 id="主键、外键、索引"><a href="#主键、外键、索引" class="headerlink" title="主键、外键、索引"></a>主键、外键、索引</h3><blockquote>
<p>主键</p>
</blockquote>
<p>概念：主关键字，<code>primary key</code>，是表中的一个或多个字段，它的值用于唯一地标识表中的某一条记录。通过主键，可以标识表中的唯一字段。</p>
<blockquote>
<p>外键</p>
</blockquote>
<p>概念：外键，<code>foreign key</code>，即为对于两个表中的公共属性，这个公共属性在其中一个表中是主键，另个一个表中的普通属性，则在这个表中的普通属性，称之为外键。</p>
<blockquote>
<p>唯一索引</p>
</blockquote>
<p>概念：唯一索引，一种索引，不允许具有索引值相同的行，从而禁止重复的索引或键值。系统在创建该索引时检查是否有重复的键值，并在每次使用 INSERT 或 UPDATE 语句添加数据时进行检查。</p>
<p>与主键的区别与联系：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">主键创建后一定包含唯一索引，但是唯一索引不一定是主键。</span><br><span class="line"></span><br><span class="line">主键不可以为空，但是唯一索引可以为空。</span><br><span class="line"></span><br><span class="line">主键可以被其他表引用为外键，而唯一索引不可以。</span><br><span class="line"></span><br><span class="line">主键在创建时，默认为空值+唯一索引。</span><br><span class="line"></span><br><span class="line">主键与唯一索引都保证了数据唯一性，不可重复性。</span><br><span class="line"></span><br><span class="line">主键与唯一索引都可加快查询速度。</span><br></pre></td></tr></table></figure>



<blockquote>
<p>单索引</p>
</blockquote>
<p>概念：为单个字段创建的索引，即为单索引。</p>
<p>单索引可以加快该字段的检索速度，但是与唯一索引不同的是，单索引并不限制，索引不能重复。</p>
<blockquote>
<p>组合索引</p>
</blockquote>
<p>概念：两个或更多个列上的索引被称作复合索引。利用索引中的附加列，可以缩小搜索的范围。</p>
<p>单索引与组合索引的区别（示例）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对于一个用户表（包含用户id、用户名、地址、年龄、密码），现在要查询某一地区的特定年龄的用户，如要查询“北京”地区年龄为25的所用用户。</span><br><span class="line">用单索引会首先很快地将北京地区的用户查询出来，并将查询结果放到中间结果集中，然后再在结果集中使用年龄（单索引）字段，查询年龄为25的用户。</span><br><span class="line">对于组合索引而言，可以直接快速的查询出地址在北京年龄为25的用户。</span><br><span class="line">在实际使用过程中，要根据实际应用场景选择建立索引的方式，如果只是为了快速查询单个字段，则使用单索引，若果需要使用多个字段进行查询分析，则使用组合索引，如果要保证数据的唯一性使用唯一索引。</span><br></pre></td></tr></table></figure>



<h2 id="SQL概念"><a href="#SQL概念" class="headerlink" title="SQL概念"></a>SQL概念</h2><h3 id="什么是SQL"><a href="#什么是SQL" class="headerlink" title="什么是SQL"></a>什么是SQL</h3><p>结构化查询语言(Structured Query Language)简称SQL，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统；同时也是数据库脚本文件的扩展名。</p>
<p>SQL是一种所有关系型数据库的查询规范，通用的数据库操作语言，所有的数据库都支持。不同的数据库 SQL 语句有一些区别。</p>
<h3 id="SQL分类"><a href="#SQL分类" class="headerlink" title="SQL分类"></a>SQL分类</h3><p><strong>数据查询语言（DQL:Data Query Language）：</strong></p>
<p>其语句，也称为“数据检索语句”，用以从表中获得数据，确定数据怎样在应用程序给出。保留字SELECT是DQL（也是所有SQL）用得最多的动词，其他DQL常用的保留字有WHERE，ORDER BY，GROUP BY和HAVING。这些DQL保留字常与其他类型的SQL语句一起使用。</p>
<p><strong>数据操作语言</strong>（<strong>DML</strong>：<strong>Data Manipulation Language</strong>）：</p>
<p>其语句包括动词INSERT，UPDATE和DELETE。它们分别用于添加，修改和删除表中的行。也称为动作查询语言。</p>
<p><strong>事务处理语言（TPL）：</strong></p>
<p>它的语句能确保被DML语句影响的表的所有行及时得以更新。TPL语句包括BEGIN TRANSACTION，COMMIT和ROLLBACK。</p>
<p><strong>数据定义语言（DDL）：</strong></p>
<p>其语句包括动词CREATE和DROP。在数据库中创建新表或删除表（CREAT TABLE 或 DROP TABLE）；为表加入索引等。DDL包括许多与人数据库目录中获得数据有关的保留字。它也是动作查询的一部分。</p>
<p><strong>指针控制语言（CCL）：</strong></p>
<p>它的语句，像DECLARE CURSOR，FETCH INTO和UPDATE WHERE CURRENT用于对一个或多个表单独立的操作。</p>
<p><strong>数据控制语言</strong>（<strong>DCL</strong>）：</p>
<p>它的语句通过GRANT或REVOKE获得许可，确定单个用户和用户组对数据库对象的访问。某些RDBMS可用GRANT或REVOKE控制对表单个列的访问。</p>
<h3 id="SQL语法"><a href="#SQL语法" class="headerlink" title="SQL语法"></a>SQL语法</h3><ol>
<li><p>每条语句以分号结尾。</p>
</li>
<li><p>SQL 中关键字不区分大小写</p>
</li>
<li><p>注释方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 单行注释</span><br><span class="line"></span><br><span class="line">/* 多行注释</span><br><span class="line">多行注释</span><br><span class="line">多行注释 */</span><br><span class="line"></span><br><span class="line"># MySQL特有注释</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="SQL约束"><a href="#SQL约束" class="headerlink" title="SQL约束"></a>SQL约束</h3><p>约束用于限制加入表的数据的类型，保证数据的正确性、有效性和完整性。一个表如果添加了约束，不正确的数据将无法插入到表中。约束在创建表的时候添加比较合适。</p>
<blockquote>
<p>主键约束</p>
</blockquote>
<p>主键约束的限制是<strong>非空</strong>和<strong>不重复</strong>。通常会给每张表设计一个 id 的字段，把 id 作为主键，并且实际在数据表中一般是自增的。</p>
<blockquote>
<p>唯一约束</p>
</blockquote>
<p>唯一约束的限制是<strong>不重复</strong>。</p>
<blockquote>
<p>非空约束</p>
</blockquote>
<p>非空约束的限制是<strong>非空</strong>，即数据库表中的字段的值，不能为null。</p>
<blockquote>
<p>default默认值约束</p>
</blockquote>
<p>如果插入数据时，该字段没有赋值，则为默认值。</p>
<blockquote>
<p>外键约束</p>
</blockquote>
<p>一张表有一个外键，那么这<strong>张表的某个字段将受限于另外一张表的某个字段对应的值</strong>，称为外键约束。外键约束要设置级联操作，在修改和删除主表的主键时，同时更新或删除副表的外键值，称为级联操作。级联操作分为二种：级联更新、级联删除。</p>
<blockquote>
<p>检查约束</p>
</blockquote>
<p>检查约束指定某列中的值必须满足<strong>布尔表达式</strong>，根据用户自己的需求来进行限制。比如电话号码字段<code>phone</code>可以设置检查约束<code>length(phone)=11</code>，不满足该布尔表达式的数据不允许添加。</p>
</div><script src="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-09-26</span>
            
                <span>该篇文章被 邓胖胖</span>
            
            
                <span>打上标签:
                    
                    
                        <a href='/tags/MySQL/'>
                            MySQL
                        </a>
                    
                </span>
             
             
                <span>归为分类:
                    
                    
                        <a href='/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/'>
                            学习笔记
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>上一篇：<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">上一篇：<a href=""></a></span>
    </div> -->

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--目录-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--回到顶部按钮-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- 回到顶部的按钮-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- 返回的按钮-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>