<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="什么是微服务" />
    <meta name="hexo-theme-A4" content="v1.9.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Dengpangpang</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--返回顶部css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--目录-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Dengpangpang</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">🍟首页</a></li>
            
        
            
                <li><a href="/list/">📝文章</a></li>
            
        
            
                <li><a href="/tags/">🏷️标签</a></li>
            
        
            
                <li><a href="/categories/">🗂️分类</a></li>
            
        
            
                <li><a href="/about/">👁️关于</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            什么是微服务
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%80%E3%80%81%E5%8D%95%E4%BD%93%E8%BD%AF%E4%BB%B6"><span class="post-toc-text">一、单体软件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%8C%E3%80%81%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="post-toc-text">二、面向服务架构</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%89%E3%80%81%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="post-toc-text">三、微服务</span></a></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>微服务（microservice）是一种软件架构，正得到越来越多的关注。</p>
<p>但是，它到底是什么意思？什么样的架构可以叫做微服务？</p>
<p>网上的文章虽然很多，但是都太复杂，初学者不容易看懂。我认为，这个概念其实非常简单，可以很通俗地说明白。</p>
<p><a href="/../pic/bg2022042801.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042801.webp" alt="img"></a></p>
<h2 id="一、单体软件"><a href="#一、单体软件" class="headerlink" title="一、单体软件"></a>一、单体软件</h2><p>要理解微服务，首先需要理解软件架构的演变。</p>
<p>早期的软件，所有功能都写在一起，这称为<strong>单体架构</strong>（monolithic software）。</p>
<p><a href="/../pic/bg2022042802.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042802.webp" alt="img"></a></p>
<p>整个软件就是单一的整体，彷佛一体化的机器。</p>
<p>可以想到，软件的功能越多，单体架构就会越复杂，很多缺点也随之暴露出来。</p>
<blockquote>
<p>（1）所有功能耦合在一起，互相影响，最终难以管理。</p>
<p>（2）哪怕只修改一行代码，整个软件就要重新构建和部署，成本非常高。</p>
<p>（3）因为软件做成了一个整体，不可能每个功能单独开发和测试，只能整体开发和测试，导致必须采用瀑布式开发模型。</p>
</blockquote>
<p>以上三个原因的详细分析，可以参考我以前的文章<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2021/05/scaling-problem.html">《软件工程的最大难题》</a>。</p>
<p><a href="/../pic/bg2022042803.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042803.webp" alt="img"></a></p>
<p>总之，单体架构的大型软件，不仅开发速度慢，而且会形成难以维护和升级的复杂代码，成为程序员的沉重负担。</p>
<h2 id="二、面向服务架构"><a href="#二、面向服务架构" class="headerlink" title="二、面向服务架构"></a>二、面向服务架构</h2><p>为了解决上面这些问题，很早就有人提出来，必须打破代码的耦合，拆分单体架构，将软件拆分成一个个独立的功能单元。</p>
<p>大概在20多年前，随着互联网的出现，功能单元可以用远程”服务”的形式提供，就诞生出了”面向服务架构”（service-oriented architecture，简称 SOA）。</p>
<p><a href="/../pic/bg2022042804.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042804.webp" alt="img"></a></p>
<p>所谓服务（service），就是在后台不间断运行、提供某种功能的一个程序。最常见的服务就是 Web 服务，通过80端口向外界提供网页访问。</p>
<p>“面向服务架构”就是把一个大型的单体程序，拆分成一个个独立服务，也就是较小的程序。每个服务都是一个独立的功能单元，承担不同的功能，服务之间通过通信协议连在一起。</p>
<p><a href="/../pic/bg2022042805.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042805.webp" alt="img"></a></p>
<p>这种架构有很多优点。</p>
<blockquote>
<p>（1）每种服务功能单一，相当于一个小型软件，便于开发和测试。</p>
<p>（2）各个服务独立运行，简化了架构，提高了可靠性。</p>
<p>（3）鼓励和支持代码重用，同一个服务可以用于多种目的。</p>
<p>（4）不同服务可以单独开发和部署，便于升级。</p>
<p>（5）扩展性好，可以容易地加机器、加功能，承受高负载。</p>
<p>（6）不容易出现单点故障。即使一个服务失败了，不会影响到其他服务。</p>
</blockquote>
<p>跟单体架构不一样，面向服务架构是语言不敏感的，不同服务可以使用不同的语言和工具开发，可能需要部署在不同的系统和环境。</p>
<p>这意味着，<strong>面向服务架构默认运行在不同服务器上</strong>，每台服务器提供一种服务，多台服务器共同组成一个完整的网络应用。</p>
<h2 id="三、微服务"><a href="#三、微服务" class="headerlink" title="三、微服务"></a>三、微服务</h2><p>2014年，<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html">Docker</a> 出现了，彻底改变了软件开发的面貌。它让程序运行在容器中，每个容器可以分别设定运行环境，并且只占用很少的系统资源。</p>
<p><a href="/../pic/bg2022042806.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042806.webp" alt="img"></a></p>
<p>显而易见，可以用容器来实现”面向服务架构”，每个服务不再占用一台服务器，而是占用一个容器。</p>
<p>这样就不需要多台服务器了，最简单的情况下，本机运行多个容器，只用一台服务器就实现了面向服务架构，这在以前是做不到的。这种实现方式就叫做微服务。</p>
<p><a href="/../pic/bg2022042807.webp" title="img" class="gallery-item" style="box-shadow: none;"> <img src="/../pic/bg2022042807.webp" alt="img"></a></p>
<p>简单说，<strong>微服务就是采用容器技术的面向服务架构</strong>。它依然使用”服务”作为功能单元，但是变成了轻量级实现，不需要新增服务器，只需要新建容器（一个进程），所以才叫做”微服务”。</p>
<p><strong>一个微服务就是一个独立的<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html">进程</a>。</strong> 这个进程可以运行在本机，也可以运行在别的服务器，或者在云端（比如云服务和云函数 FaaS）。</p>
<p>它的特点与面向服务架构是一样的，但因为更轻量级，所以功能的解耦和服务化可以做得更彻底。而且，它可以标准化，同样的容器不管在哪里运行，结果都是一样的，所以市场上有很多 SaaS 产品，提供标准化的微服务。</p>
<p>正是由于微服务这些突出的优点，这几年才会变得如此流行。它和容器技术、云服务一起，一定会在未来的软件开发中，扮演越来越重要的角色。</p>
<p>（完）</p>
<hr>
<p>转载自： <a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/">阮一峰</a></p>
</div><script src="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-11-21</span>
            
                <span>该篇文章被 邓胖胖</span>
            
            
             
                <span>归为分类:
                    
                    
                        <a href='/categories/%E6%8B%93%E5%B1%95%E8%A7%86%E9%87%8E/'>
                            拓展视野
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>上一篇：<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">上一篇：<a href=""></a></span>
    </div> -->

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--目录-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--回到顶部按钮-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- 回到顶部的按钮-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- 返回的按钮-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>