<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="Python模块和包" />
    <meta name="hexo-theme-A4" content="v1.9.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Dengpangpang</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--返回顶部css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--目录-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Dengpangpang</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">🍟首页</a></li>
            
        
            
                <li><a href="/list/">📝文章</a></li>
            
        
            
                <li><a href="/tags/">🏷️标签</a></li>
            
        
            
                <li><a href="/categories/">🗂️分类</a></li>
            
        
            
                <li><a href="/about/">👁️关于</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            Python模块和包
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85-%E5%88%9D%E8%AF%86%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85"><span class="post-toc-text">模块和包-初识模块和包</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85%EF%BC%9F"><span class="post-toc-text">什么是模块和包？</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85"><span class="post-toc-text">包的安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%80%9A%E8%BF%87pip%E5%AE%89%E8%A3%85"><span class="post-toc-text">通过pip安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#pip%E7%9A%84%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="post-toc-text">pip的常见命令</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%8B%E8%BD%BD%E9%85%8D%E7%BD%AE"><span class="post-toc-text">下载配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85"><span class="post-toc-text">源码安装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#wheel%E5%AE%89%E8%A3%85"><span class="post-toc-text">wheel安装</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85-%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="post-toc-text">模块和包-模块和包的导入</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5%E8%B7%AF%E5%BE%84"><span class="post-toc-text">模块和包的导入路径</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="post-toc-text">模块和包的导入方式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#import%E5%AF%BC%E5%85%A5"><span class="post-toc-text">import导入</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#from%E5%AF%BC%E5%85%A5"><span class="post-toc-text">from导入</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%BB%E6%96%87%E4%BB%B6"><span class="post-toc-text">主文件</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85-%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97"><span class="post-toc-text">模块和包-内置模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#hashlib"><span class="post-toc-text">hashlib</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#random"><span class="post-toc-text">random</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#json"><span class="post-toc-text">json</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#time"><span class="post-toc-text">time</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#datetime"><span class="post-toc-text">datetime</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#os"><span class="post-toc-text">os</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#shutil"><span class="post-toc-text">shutil</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8Cre%E6%A8%A1%E5%9D%97"><span class="post-toc-text">模块和包-正则表达式和re模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="post-toc-text">正则表达式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%AD%97%E7%AC%A6%E7%9B%B8%E5%85%B3"><span class="post-toc-text">字符相关</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%95%B0%E9%87%8F%E7%9B%B8%E5%85%B3"><span class="post-toc-text">数量相关</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%86%E7%BB%84"><span class="post-toc-text">分组</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BA%94%E7%94%A8"><span class="post-toc-text">应用</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#re%E6%A8%A1%E5%9D%97"><span class="post-toc-text">re模块</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97"><span class="post-toc-text">模块和包-第三方模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#request%E6%A8%A1%E5%9D%97"><span class="post-toc-text">request模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%8A%93%E5%8C%85"><span class="post-toc-text">抓包</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BeautifulSoup4%E6%A8%A1%E5%9D%97"><span class="post-toc-text">BeautifulSoup4模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%80%E4%B8%AA%E6%8A%93%E5%8F%96%E8%81%94%E9%80%9A%E7%BD%91%E4%B8%8A%E5%95%86%E5%9F%8E%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF%E7%9A%84%E6%A1%88%E4%BE%8B"><span class="post-toc-text">一个抓取联通网上商城商品信息的案例</span></a></li></ol></li></ol></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="模块和包-初识模块和包"><a href="#模块和包-初识模块和包" class="headerlink" title="模块和包-初识模块和包"></a>模块和包-初识模块和包</h1><h2 id="什么是模块和包？"><a href="#什么是模块和包？" class="headerlink" title="什么是模块和包？"></a>什么是模块和包？</h2><ul>
<li><p>模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">模块就是一个py文件，我们可以将一些功能按照某个维度来划分</span><br><span class="line">模块包括自定义模块、内置模块和第三方的模块</span><br></pre></td></tr></table></figure>
</li>
<li><p>包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">包是一个文件夹，里面包含多个py文件，即包含了很多简单功能的模块，可以实现复杂功能。也可以按照功能划分</span><br></pre></td></tr></table></figure>

<p>一般情况下，学习和讨论时并不严格划分，统称为模块。</p>
</li>
</ul>
<h2 id="包的安装"><a href="#包的安装" class="headerlink" title="包的安装"></a>包的安装</h2><h3 id="通过pip安装"><a href="#通过pip安装" class="headerlink" title="通过pip安装"></a>通过pip安装</h3><p>在python的目录中,pip.exe是一个专门用于帮助下载第三方包的工具。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">D:\Python</span><br><span class="line">	-python.exe		python解释器</span><br><span class="line">    -Scripts</span><br><span class="line">    	-pip.exe	包管理工具</span><br><span class="line">    -Lib(内置+第三方)</span><br><span class="line">    	-site-packages</span><br><span class="line">        	-第三方包</span><br></pre></td></tr></table></figure>

<h4 id="pip的常见命令"><a href="#pip的常见命令" class="headerlink" title="pip的常见命令"></a>pip的常见命令</h4><ul>
<li><p>安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install 包名称</span><br></pre></td></tr></table></figure>
</li>
<li><p>卸载</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall 包名称</span><br></pre></td></tr></table></figure>
</li>
<li><p>罗列已安装的第三方包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="built_in">list</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将已安装的包写入到文件中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>批量安装包(从<code>requirements.txt</code>文件中)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br><span class="line"><span class="comment"># 同一个python环境下，只能安装一个版本的包</span></span><br><span class="line"><span class="comment"># requirements.txt要放在项目的根目录下</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="下载配置"><a href="#下载配置" class="headerlink" title="下载配置"></a>下载配置</h3><p><a target="_blank" rel="noopener" href="https://pypi.org/%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%BA%90%E5%8C%85%E7%9A%84%E8%8E%B7%E5%8F%96%E7%BD%91%E7%AB%99%EF%BC%8Cpip.exe%E9%80%9A%E8%BF%87%E8%BF%99%E4%B8%AA%E7%BD%91%E7%AB%99%E5%B0%86%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%EF%BC%8C%E4%BD%86%E6%9C%89%E6%97%B6%E9%80%9F%E5%BA%A6%E6%AF%94%E8%BE%83%E6%85%A2%E3%80%82">https://pypi.org/是一个开源包的获取网站，pip.exe通过这个网站将包下载到本地，但有时速度比较慢。</a></p>
<p>可以通过国内的其他同步网站下载，比如豆瓣，基于豆瓣源去下载第三方包：</p>
<ul>
<li><p>一次性操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install 包名 -i https://pypi.douban.com/simple/</span><br></pre></td></tr></table></figure>
</li>
<li><p>永久使用豆瓣</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip config <span class="built_in">set</span> <span class="keyword">global</span>.index-url https://pypi.douban.com/simple/</span><br><span class="line"><span class="comment"># 运行这个命令之后，以后直接使用pip install 包名 会默认从豆瓣下载</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h3><p>如果pip.exe中下载不到想要的包，可以通过源码安装</p>
<ul>
<li><p>下载源码并解压</p>
</li>
<li><p>安装[在终端操作]</p>
<ul>
<li><p>进入源码目录</p>
</li>
<li><p>执行安装命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3<span class="number">.9</span> setup.py build</span><br><span class="line">python3<span class="number">.9</span> setup.py install</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="wheel安装"><a href="#wheel安装" class="headerlink" title="wheel安装"></a>wheel安装</h3><p>有些源码开发者会把源码打包成wheel包，以供下载和安装。</p>
<ul>
<li><p>pip支持wheel安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wheel</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载wheel包</p>
</li>
<li><p>进入终端安装</p>
<ul>
<li><p>进入wheel包的目录</p>
</li>
<li><p>执行安装命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wheel包文件名</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="模块和包-模块和包的导入"><a href="#模块和包-模块和包的导入" class="headerlink" title="模块和包-模块和包的导入"></a>模块和包-模块和包的导入</h2><h3 id="模块和包的导入路径"><a href="#模块和包的导入路径" class="headerlink" title="模块和包的导入路径"></a>模块和包的导入路径</h3><ul>
<li>python内置的模块都放在了python的安装目录下，可以直接导入使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 模块名</span><br><span class="line"><span class="comment"># 后续代码中可以调用该导入模块的功能</span></span><br></pre></td></tr></table></figure>

<ul>
<li>一般情况下，自定义的模块和包需要放在运行文件的同级目录下，才可以导入使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 模块名			<span class="comment"># 运行文件与需要导入的模块在同级目录</span></span><br><span class="line"><span class="keyword">import</span> 包名.模块名	   <span class="comment"># 运行文件与需要导入的模块所在的包在同级目录</span></span><br><span class="line"><span class="comment"># 后续代码中可以调用该导入模块的功能</span></span><br></pre></td></tr></table></figure>

<p>​		当需要让python去自定义的目录中寻找模块时，要用到<code>sys</code>模块：<code>sys.path</code>是获取python寻找模块的目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.append(<span class="string">r&quot;模块所在目录&quot;</span>)	<span class="comment"># 将该模块所在目录添加到python寻找模块的目录中 </span></span><br><span class="line"><span class="keyword">import</span> 模块名</span><br><span class="line"><span class="comment"># 后续代码中可以调用该导入模块的功能</span></span><br></pre></td></tr></table></figure>

<p>​		自定义模块不能与python内置模块重名</p>
<h3 id="模块和包的导入方式"><a href="#模块和包的导入方式" class="headerlink" title="模块和包的导入方式"></a>模块和包的导入方式</h3><h4 id="import导入"><a href="#import导入" class="headerlink" title="import导入"></a>import导入</h4><p>导入级别：导入<code>py</code>文件</p>
<h4 id="from导入"><a href="#from导入" class="headerlink" title="from导入"></a>from导入</h4><p>导入级别：可以是<code>py</code>文件中的函数，也可以是<code>py</code>文件，更为灵活，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> 包名 <span class="keyword">import</span> 模块名		<span class="comment"># 导入py文件</span></span><br><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> func1	 <span class="comment"># 导入py文件中的一个函数</span></span><br><span class="line"><span class="keyword">from</span> 模块民 <span class="keyword">import</span> func1,func2,func3	<span class="comment"># 导入py文件中的多个函数</span></span><br><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> *		 <span class="comment"># 导入py文件中的全部函数</span></span><br><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> func1 <span class="keyword">as</span> f1		<span class="comment"># 在本文件中，给导入的函数重命名，避免与本文件中的函数重名</span></span><br></pre></td></tr></table></figure>

<p>一般来说，单层目录时，可以用<code>import</code>或<code>from</code>导入，当层级较深时，用<code>from</code>导入</p>
<h3 id="主文件"><a href="#主文件" class="headerlink" title="主文件"></a>主文件</h3><p>主文件是指一个python项目中，作为程序入口的<code>py</code>文件。</p>
<p><code>py</code>文件执行时，系统内部会创建一个变量名，<code>__name__</code></p>
<p>主动执行时，<code>__name__=&quot;__main__&quot;</code>，被导入执行时，<code>__name__=py文件名</code></p>
<p>所以当编写主文件时，运行代码前要加上<code>if __name__=&quot;__main__&quot;:</code>，防止别人导入时执行</p>
<h1 id="模块和包-内置模块"><a href="#模块和包-内置模块" class="headerlink" title="模块和包-内置模块"></a>模块和包-内置模块</h1><p>内置模块是python中提供好的功能模块</p>
<h2 id="hashlib"><a href="#hashlib" class="headerlink" title="hashlib"></a>hashlib</h2><p>对数据进行加密的模块</p>
<p>比如开发项目时，密码不能用明文存储，防止数据库泄露时密码也泄露，就要用到<code>hashlib</code>模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">name = <span class="string">&quot;邓胖胖&quot;</span></span><br><span class="line">pwd = <span class="string">&quot;123456&quot;</span></span><br><span class="line">obj = hashlib.md5()		<span class="comment"># md5是一种加密方式</span></span><br><span class="line">obj.update(pwd.encode(<span class="string">&quot;utf-8&quot;</span>))	</span><br><span class="line">res = obj.hexdigest()	<span class="comment">#</span></span><br><span class="line"><span class="built_in">print</span>(res)				<span class="comment"># e10adc3949ba59abbe56e057f20f883e</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>关于MD5加密</p>
<p>MD5加密后不可反解，用户登录时，根据用户所输入的密码进行MD5加密，与数据库中的密文进行对比。</p>
<p>直接的MD5加密得到的密文可以通过撞库得到明文，所以也并不安全，可以通过加盐的方式解决</p>
<ul>
<li><p>加盐</p>
<p>输入一个字符串，增加撞库的难度，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">name = <span class="string">&quot;邓胖胖&quot;</span></span><br><span class="line">pwd = <span class="string">&quot;123456&quot;</span></span><br><span class="line">salt = <span class="string">&quot;jsdhfjkskf&quot;</span>		<span class="comment"># 随意输入的字符串</span></span><br><span class="line">obj = hashlib.md5()		<span class="comment"># md5是一种加密方式</span></span><br><span class="line">obj.update(salt.encode(<span class="string">&quot;utf-8&quot;</span>))	</span><br><span class="line">res = obj.hexdigest()	</span><br><span class="line"><span class="built_in">print</span>(res)		</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="random"><a href="#random" class="headerlink" title="random"></a>random</h2><p>帮助我们生成一些随机数据，比如：</p>
<ul>
<li>随机生成整数或小数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">v1 = random.randint(<span class="number">1</span>, <span class="number">10</span>)		<span class="comment"># 大于等于1，小于等于10的随机整数</span></span><br><span class="line">v2 = random.uniform(<span class="number">1</span>, <span class="number">10</span>)		<span class="comment"># 大于等于1，小于等于10的随机小数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>随机抽取列表中的一个或多个元素</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">data_list = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>]</span><br><span class="line">v3 = random.choice(data_list)	<span class="comment"># 随机抽取一个列表中的元素</span></span><br><span class="line">v4_list = random.sample(data_list,<span class="number">3</span>)	<span class="comment"># 随机抽取列表中的多个元素，此处是3个</span></span><br><span class="line"><span class="built_in">print</span>(v4_list)					<span class="comment">#[11, 55, 22]，结果会生成一个列表</span></span><br></pre></td></tr></table></figure>

<ul>
<li>打乱顺序</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">data_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]	<span class="comment"># 生成一个元素有序的列表</span></span><br><span class="line">random.shuffle(data_list)			<span class="comment"># 打乱列表中元素的顺序</span></span><br><span class="line"><span class="built_in">print</span>(data_list)					<span class="comment"># [1, 9, 5, 6, 7, 4, 8, 2, 0, 3]</span></span><br></pre></td></tr></table></figure>

<h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><p>本质上是一种数据格式，以字符串的形式存在。作用是在不同的编程语言之间实现数据传输。</p>
<p><code>json</code>格式外部整体是一个大的字符串，</p>
<p><code>json</code>格式内部的字符串一定要用双引号</p>
<p><code>json</code>格式不存在元组的数据类型，转换过程中会将元组转换为列表</p>
<p><code>json</code>格式中一般只包括：整数、小数、字符串、双引号、字典、列表、<code>true</code>&#x2F;<code>false</code>、<code>null</code></p>
<ul>
<li><p>序列化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">info = &#123;<span class="string">&quot;k1&quot;</span>:<span class="number">123</span>, <span class="string">&quot;k2&quot;</span>:(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将python中的数据类型转换成json中的字符串</span></span><br><span class="line">res = json.dumps(info)		<span class="comment"># 也称为序列化</span></span><br><span class="line"><span class="built_in">print</span>(res)					<span class="comment"># &#123;&quot;k1&quot;: 123, &quot;k2&quot;: [2, 3, 4, 5]&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>关于中文</p>
<p>python数据里的中文在转换为<code>json</code>中的字符串时，默认会转换为Unicode编码，如果想以中文的形式保留，需要加上<code>ensure_ascii = False</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">info = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;邓胖胖&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">23</span>&#125;</span><br><span class="line">v1 = json.dumps(info)	<span class="comment"># &#123;&quot;name&quot;: &quot;\u9093\u80d6\u80d6&quot;, &quot;age&quot;: 23&#125;</span></span><br><span class="line">v2 = json.dumps(info,ensure_ascii = <span class="literal">False</span>)	<span class="comment"># &#123;&quot;name&quot;:&quot;邓胖胖&quot;, &quot;age&quot;:23&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>反序列化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">data_string = <span class="string">&#x27;&#123;&quot;k1&quot;: 123, &quot;k2&quot;: [2, 3, 4, 5]&#125;&#x27;</span>	</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将json中的字符串转换成python中的数据类型</span></span><br><span class="line">res = json.loads(data_string)	<span class="comment"># 也称为反序列化</span></span><br><span class="line"><span class="built_in">print</span>(res)						<span class="comment"># &#123;&#x27;k1&#x27;: 123, &#x27;k2&#x27;: [2, 3, 4, 5]&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><ul>
<li><p>获取当前的时间戳</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">v1 = time.time()	<span class="comment"># 1676378548.093892  这个时间是从1970年1月1日至今的秒数</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>程序停止N秒，再继续运行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;上岸&quot;</span>)</span><br><span class="line">	time.sleep(<span class="number">1</span>)	<span class="comment"># 运行到此处停止1秒</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h2><ul>
<li><p>获取当前时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">v1 = datetime.datetime.now()	</span><br><span class="line"><span class="comment"># 2023-02-14 20:54:03.058263 ,这是date-time类型的数据，并非字符串</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>datetime</code>类型转换为字符串类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">v1 = datetime.now()		<span class="comment"># datetime类型</span></span><br><span class="line">v2 = v1.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)	<span class="comment"># 字符串类型  - 和 : 并不是关键字，可以更改</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串类型转换为<code>datetime</code>类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">v1 = <span class="string">&quot;2023-02-14&quot;</span>		<span class="comment">#字符串类型</span></span><br><span class="line">v2 = datetime.strptime(v1, <span class="string">&quot;%Y-%m-%d&quot;</span>)	<span class="comment"># datetime类型</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>datetime</code>类型转换为时间戳类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">v1 = datetime.now()		<span class="comment"># datetime类型</span></span><br><span class="line">v2 = v1.timestamp()		<span class="comment"># 时间戳类型</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>时间戳类型转换为<code>datetime</code>类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">v1 = time.time()		<span class="comment"># 时间戳类型</span></span><br><span class="line">v2 = datetime.fromtimestamp(v1)		<span class="comment"># datetime类型</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>datetime</code>数据类型存在的意义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进行时间相关的运算</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timedelta</span><br><span class="line"></span><br><span class="line">v1 = datetime.now()		<span class="comment"># datetime类型</span></span><br><span class="line">v2 = v1 - timedelta(days=<span class="number">200</span>)		<span class="comment">#两百天前的时间</span></span><br><span class="line">v3 = v1 + timedelta(days=<span class="number">29</span>,hours=<span class="number">34</span>,minutes=<span class="number">23</span>,seconds=<span class="number">122</span>)	</span><br><span class="line"><span class="comment">#29天34小时23分122秒之后的时间</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="os"><a href="#os" class="headerlink" title="os"></a>os</h2><ul>
<li><p>路径的拼接</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">windows: C:\xx\xx\xxxx</span><br><span class="line">	Mac: /user/xx/xx/xxxx</span><br><span class="line">  Linux: /user/xx/xx/xxxx</span><br></pre></td></tr></table></figure>

 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = os.path.join(<span class="string">&quot;x1&quot;</span>,<span class="string">&quot;x2&quot;</span>,<span class="string">&quot;x3&quot;</span>,<span class="string">&#x27;log.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(path)		<span class="comment"># x1\x2\x3\log.txt</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>找到当前目录的上级目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path = <span class="string">&quot;x1/x2/x3/log.txt&quot;</span></span><br><span class="line">file_path = os.path.dirname(file_path)	<span class="comment"># x1/x2/x3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>绝对路径</p>
<p>绝对路径是从根目录开始的路径</p>
<p>相对路径是基于当前文件所在目录的路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">&quot;xx&quot;</span>	<span class="comment"># 相当于一个相对路径</span></span><br><span class="line">file_path = os.path.abspath(file_name)	<span class="comment"># 获取到这个文件的绝对路径</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>判断文件是否存在</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">file_path = os.path.join(<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xx.txt&quot;</span>)	<span class="comment"># 这是一个文件路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断路径是否存在</span></span><br><span class="line">os.path.exists(file_path)	<span class="comment"># 如果存在，值为True;不存在，值为False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可用于文件操作，防止读取文件时，文件不存在而报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = os.path.join(<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xxxx&quot;</span>)	<span class="comment"># 得到一个目录的路径</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exist(path):	</span><br><span class="line">    os.makedirs(path)		<span class="comment"># 创建这个文件夹，如果已存在会报错，所以需要先判断目录是否已存在</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除文件</span></span><br><span class="line">path = os.path.join(<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">os.remove(path)		<span class="comment"># 将这个目录删除，如果文件不存在会报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>判断一个目录是否是文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = os.path.join(<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">os.path.isdir(path)		<span class="comment"># 如果是文件夹，值为True;如果不是文件夹，值为False</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看某个目录下的文件和文件夹(单级)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">res = os.listdir(<span class="string">&quot;D:\connect\Assets&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)		<span class="comment"># 得到一个列表，其中的元素是该目录下的文件名</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看某个目录下的所有文件和文件夹(多级)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span>  os.walk(<span class="string">&quot;D:\connect\Assets&quot;</span>):</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"><span class="comment"># 该语句的一次循环会输出三个列表，第一个列表只有一个元素，是文件的主路径，第二个列表是该主路径下的文件夹列表，第三个列表是该主路径下的文件列表</span></span><br><span class="line"><span class="comment"># 第二次循环会将文件夹列表中的第一个文件夹作为主路径，获得该主路径下的文件夹列表和文件列表</span></span><br><span class="line"><span class="comment"># 直到获得所有文件为止</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 该操作可以直接获得某个目录下的所有文件</span></span><br><span class="line"><span class="keyword">for</span> in_path, folder_list, file_list <span class="keyword">in</span> os.walk(<span class="string">&quot;D:\connect\Assets&quot;</span>):</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> file_list:</span><br><span class="line">        abs_path = os.path.join(in_path,file)</span><br><span class="line">        <span class="built_in">print</span>(abs_path)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="shutil"><a href="#shutil" class="headerlink" title="shutil"></a>shutil</h2><ul>
<li><p>删除文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil	</span><br><span class="line"></span><br><span class="line">path = os.path.join(<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">shutil.rmtree(path)		<span class="comment"># 将这个目录删除，文件夹中的文件也会被删除，如果文件夹不存在会报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>拷贝文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">shutil.copytree(<span class="string">&quot;原文件夹路径&quot;</span>, <span class="string">&quot;目标文件夹路径&quot;</span>)	<span class="comment"># 可以自动创建文件夹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>拷贝文件(两种方式)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝到目标文件夹下</span></span><br><span class="line">shutil.copy(<span class="string">&quot;原文件夹路径&quot;</span>, <span class="string">&quot;目标文件夹路径\\&quot;</span>)		<span class="comment"># 要保证目标文件夹存在</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝到目标文件夹下的某个文件中(是一个不重名的文件)</span></span><br><span class="line">shutil.copy(<span class="string">&quot;原文件夹路径&quot;</span>, <span class="string">&quot;目标文件夹路径文件名&quot;</span>)		<span class="comment"># 会自动创建一个不重名的拷贝文件</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>重命名文件或文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">shutil.move(<span class="string">&quot;原文件路径文件(夹)名&quot;</span>, <span class="string">&quot;目标文件路径文件(夹)名&quot;</span>)	<span class="comment"># 原文件要存在，否则会报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>压缩和解压缩</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">base_name 压缩后，压缩包的名称</span></span><br><span class="line"><span class="string">root_dir 要压缩的文件夹的路径</span></span><br><span class="line"><span class="string">format 后缀名</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">shutil.make_archive(root_dir = <span class="string">&quot;xxx&quot;</span>, base_name = <span class="string">&quot;xx/xxx&quot;</span>,<span class="built_in">format</span> = <span class="string">&quot;zip&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压缩</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">filename 压缩包的文件名</span></span><br><span class="line"><span class="string">extract_dir 解压后，文件的路径</span></span><br><span class="line"><span class="string">format 后缀名</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">shutil.unpack_archive(filename=<span class="string">&quot;dd.zip&quot;</span>, extract_dir=<span class="string">&quot;xx/xxx&quot;</span>, <span class="built_in">format</span>=<span class="string">&quot;zip&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="模块和包-正则表达式和re模块"><a href="#模块和包-正则表达式和re模块" class="headerlink" title="模块和包-正则表达式和re模块"></a>模块和包-正则表达式和re模块</h1><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>正则表达式，是用语句来描述一些字符串的特征，可以与<code>re</code>模块结合，将字符串提取出来。比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;sdhkfsgk23874823skjfsbj34563hsdj&quot;</span>	<span class="comment"># 一段任意字符串</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;正则表达式&quot;</span>, text)	 <span class="comment"># 可以提取得到想要的字符串，组成列表</span></span><br></pre></td></tr></table></figure>

<h3 id="字符相关"><a href="#字符相关" class="headerlink" title="字符相关"></a>字符相关</h3><ul>
<li><p>固定文本</p>
<p>正则表达式不含任何特殊符号，表示直接匹配固定文本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;常州大学西太湖校区常州市武进区延政西大道&quot;</span></span><br><span class="line">re.findall(<span class="string">&quot;常州&quot;</span>, text)		<span class="comment"># [&#x27;常州&#x27;, &#x27;常州&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配字符</p>
<p>如<code>[sdfhd]</code>表示，中括号里的任一字符都在选择范围内，数量较多时可使用如<code>[a-z]</code>或<code>[0-9]</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;常州大学西太湖校区常州市武进区延政西大道&quot;</span></span><br><span class="line">re.findall(<span class="string">&quot;常州[大,市]&quot;</span>, text)		<span class="comment"># [&#x27;常州大&#x27;, &#x27;常州市&#x27;]-</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>\d</code>代表数字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;sfkhd23394jdbdjkjd2323&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \是转义字符，\d 代表一个数字</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d&quot;</span>, text)		<span class="comment"># [&#x27;d2&#x27;, &#x27;d2&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>\w</code>表示字母、数字、下划线或汉字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;常州大学cczu  常州大学cczu&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;大学\w+z&quot;</span>,text)	</span><br><span class="line"><span class="comment"># [&#x27;大学ccz&#x27;, &#x27;大学ccz&#x27;],\w不匹配空格</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正则默认是尽可能多的去匹配，称为贪婪匹配</span></span><br><span class="line">text = <span class="string">&quot;常州大学cczu常州大学cczu&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;大学\w+z&quot;</span>,text)	<span class="comment"># [&#x27;大学cczu常州大学ccz&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 非贪婪匹配是指找到第一个匹配就不要再匹配了，加上一个?即可</span></span><br><span class="line">text = <span class="string">&quot;常州大学cczu常州大学cczu&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;大学\w+?z&quot;</span>,text)	<span class="comment"># [&#x27;大学ccz&#x27;, &#x27;大学ccz&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.</code>表示除换行符以外的任何字符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment">#  . 只代表一个字符</span></span><br><span class="line">text = <span class="string">&quot;adshjgkalsdkfjo&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;a.s&quot;</span>,text)		<span class="comment"># [&#x27;ads&#x27;, &#x27;als&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个字符，贪婪匹配</span></span><br><span class="line">text = <span class="string">&quot;adshjgkalsdkfjo&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;a.+s&quot;</span>,text)		<span class="comment"># [&#x27;adshjgkals&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个字符，非贪婪匹配</span></span><br><span class="line">text = <span class="string">&quot;adshjgkalsdkfjo&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;a.+?s&quot;</span>,text)	<span class="comment"># [&#x27;ads&#x27;, &#x27;als&#x27;]	</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>\s</code>表示空白字符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;add admin    a&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;a\w+\s+\w&quot;</span>,text)	<span class="comment"># [&#x27;add a&#x27;], \s后不带+只代表一个字符</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数量相关"><a href="#数量相关" class="headerlink" title="数量相关"></a>数量相关</h3><ul>
<li><code>*</code>代表0或多个</li>
<li><code>+</code>代表1或多个</li>
<li><code>?</code>代表0或1个</li>
<li><code>&#123;n&#125;</code>代表固定<code>n</code>个</li>
<li><code>&#123;n,&#125;</code>代表<code>n</code>个及以上</li>
<li><code>&#123;n,m&#125;</code>代表大于等于<code>n</code>,小于等于<code>m</code>个</li>
</ul>
<p>注意：默认贪婪匹配，非贪婪匹配需要在数量后加<code>?</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># \d+ 代表一个或多个数字</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d+&quot;</span>, text)	<span class="comment"># [&#x27;d23394&#x27;, &#x27;d2323&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d* 代表0个或1个或多个</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d*&quot;</span>, text)	<span class="comment"># [&#x27;d23394&#x27;, &#x27;d&#x27;, &#x27;d&#x27;, &#x27;d2323&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d? 代表0个或1个，如果后面有多个数字，只取第一个</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d?&quot;</span>, text)	<span class="comment"># [&#x27;d2&#x27;, &#x27;d&#x27;, &#x27;d&#x27;, &#x27;d2&#x27;, &#x27;d1&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d&#123;n&#125; 代表固定n个，如果后面有超过n个，只取n个</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d&#123;3&#125;&quot;</span>, text)	<span class="comment"># [&#x27;d233&#x27;, &#x27;d232&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d&#123;n,&#125; 代表n个或n个以上</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d&#123;5,&#125;&quot;</span>, text)	<span class="comment"># [&#x27;d23394&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d&#123;n,m&#125; 代表大于等于n,小于等于m</span></span><br><span class="line">re.findall(<span class="string">&quot;d\d&#123;5,6&#125;&quot;</span>, text)	<span class="comment"># [&#x27;d23394&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意：以上的+，*，?，&#123;&#125;等代表次数，也可以与一般字符串搭配使用，如：</span></span><br><span class="line">text = <span class="string">&quot;aabbccccaaadddd&quot;</span></span><br><span class="line">res = re.findall(<span class="string">&quot;a+&quot;</span>, text)	<span class="comment"># [&#x27;aa&#x27;, &#x27;aaa&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><ul>
<li><p>提取部分区域的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将目标区域用()围住即可，()不影响正则表达式的整体含义</span></span><br><span class="line">text = <span class="string">&quot;手机号17633554278中国联通&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;1\d&#123;6&#125;(\d&#123;4&#125;)&quot;</span>,text)		<span class="comment"># [&#x27;4278&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当要提取多个部分时，或存在区域包含关系时，仍然可用</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;((1\d&#123;2&#125;)\d&#123;4&#125;(\d&#123;4&#125;))&quot;</span>,text)	</span><br><span class="line"><span class="comment"># [(&#x27;17633554278&#x27;, &#x27;176&#x27;, &#x27;4278&#x27;)]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>“或”的关系</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用()围住的部分中，可以存在&quot;或&quot;的关系,用|实现</span></span><br><span class="line">text = <span class="string">&quot;手机号17633554278和手机号17633554273都是我名下的，后面那个送人了&quot;</span></span><br><span class="line">data_list = re.<span class="keyword">import</span>(<span class="string">&quot;1\d&#123;6&#125;427(8|3)&quot;</span>,text)	<span class="comment"># [&#x27;8&#x27;, &#x27;3&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>限制开头和结尾</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在正则表达式的开头加上 ^ ,在结尾加上 $ ,表示严格限制文本的开头和结尾，常用于文本校验</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="built_in">input</span>(<span class="string">&quot;请输入手机号：&quot;</span>)		</span><br><span class="line">res = re.<span class="keyword">match</span>(<span class="string">&quot;^1[3-9]\d&#123;9&#125;$&quot;</span>, text)	<span class="comment"># 只能输入符合要求的11位数，后续不能存在更多字符</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul>
<li><p>企鹅号</p>
</li>
<li><p>手机号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 手机号格式：&quot;1[3-9]\d&#123;9&#125;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>身份证号</p>
</li>
<li><p>邮箱</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">一般邮箱格式：xxx@xxx.com</span></span><br><span class="line"><span class="string">正则表达式出现的 . 代表的是除换行符外的一个任意字符,当需要表示字符 . 时，用 \. </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;我的126邮箱是dengjinjun0805@126.com，QQ邮箱是498790885@qq.com&quot;</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;\w+@\w+\.com&quot;</span>, text, re.ASCII)	<span class="comment"># re.ASCII让\w不匹配中文</span></span><br><span class="line"><span class="built_in">print</span>(data_list)	<span class="comment"># [&#x27;dengjinjun0805@126.com&#x27;, &#x27;498790885@qq.com&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于较为复杂的支持 - 和 _ 以及域名为cn或en等的邮箱，可以使用如下语句</span></span><br><span class="line">data_list = re.findall(<span class="string">&quot;[a-zA-Z0-9-_]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_]+&quot;</span>，text)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><ul>
<li><p>获取所有匹配成功的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.findall(<span class="string">&quot;正则表达式&quot;</span>, <span class="string">&quot;文本&quot;</span>)	<span class="comment"># 在正则表达式中已介绍</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>从字符串开头进行匹配，返回第一个对象</p>
<p>使用<code>re.match()</code>对字符串开头第一个字符开始匹配，如果开头不匹配不会继续寻找。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;changzhou university&quot;</span></span><br><span class="line">res = re.<span class="keyword">match</span>(<span class="string">&quot;u\w+y&quot;</span>, text)	<span class="comment"># None</span></span><br><span class="line">res = re.<span class="keyword">match</span>(<span class="string">&quot;c\w+\s&quot;</span>, text)	<span class="comment"># &lt;re.Match object; span=(0, 10), match=&#x27;changzhou &#x27;&gt;</span></span><br><span class="line"><span class="comment"># 得到的是一个re.match类型的对象，可以通过group()方法获得</span></span><br><span class="line"><span class="comment"># 为了防止匹配失败得到空对象，然后使用group方法时报错，一般需要添加判断条件</span></span><br><span class="line"><span class="keyword">if</span> res:</span><br><span class="line">	content = res.group()			<span class="comment"># changzhou</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>从整个字符串进行匹配，返回第一个对象</p>
<p>使用<code>re.search()</code>对整个字符串进行匹配，返回第一个对象，与<code>re.match()</code>不同的是，开头不匹配，仍然会继续寻找，找到后返回一个对象，通过<code>group()</code>方法获取，否则返回<code>None</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;changzhou university&quot;</span></span><br><span class="line">res = re.search(<span class="string">&quot;u\w+y&quot;</span>, text)	<span class="comment"># &lt;re.Match object; span=(10, 20), match=&#x27;university&#x27;&gt;</span></span><br><span class="line"><span class="keyword">if</span> res:</span><br><span class="line">    content = res.group()	<span class="comment"># university</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串的分割</p>
<p>使用<code>re.split()</code>对字符串进行分割，一般的字符串分割只能按照一个字符进行分割，而利用正则表达式，可以实现按照不同的字符进行分割，比如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;23+34-5&quot;</span></span><br><span class="line">data_lsit = re.split(<span class="string">&quot;[+-]&quot;</span>, text)	<span class="comment"># [&#x27;23&#x27;, &#x27;34&#x27;, &#x27;5&#x27;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="模块和包-第三方模块"><a href="#模块和包-第三方模块" class="headerlink" title="模块和包-第三方模块"></a>模块和包-第三方模块</h1><h2 id="request模块"><a href="#request模块" class="headerlink" title="request模块"></a>request模块</h2><p><code>request</code>模块是一个重要的第三方模块，可以让我们通过代码向某些地址发送网络请求，然后我们就可以获取到结果。</p>
<h3 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h3><ul>
<li><p>查看网络请求，空白处右键——检查——网络</p>
<ul>
<li>查看地址：<code>url</code></li>
<li>请求的方式</li>
<li>传递的数据：response</li>
</ul>
</li>
<li><p>通过代码伪造浏览器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="comment"># 原始文本</span></span><br><span class="line">res = request.get(</span><br><span class="line">	url = <span class="string">&quot;xxxx&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;xxxx&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解码1</span></span><br><span class="line">res.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br><span class="line"><span class="comment"># 解码2</span></span><br><span class="line">res.content.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># JSON格式</span></span><br><span class="line"><span class="built_in">print</span>(json.loads(res.text))</span><br><span class="line"></span><br><span class="line"><span class="comment"># JSONP格式：切片后转为JSON格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HTML格式，需要安装第三方模块进行处理 pip install beautifulsoup4</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="BeautifulSoup4模块"><a href="#BeautifulSoup4模块" class="headerlink" title="BeautifulSoup4模块"></a>BeautifulSoup4模块</h2><p><code>BeautifulSoup4</code>模块专门用于帮助我们在HTML格式的字符串中提取我们想要的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">data = <span class="string">&quot;&quot;&quot;&lt;meta charset=&quot;utf-8&quot;/&gt;</span></span><br><span class="line"><span class="string">&lt;meta content=&quot;webkit&quot; name=&quot;renderer&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;meta content=&quot;IE=edge,chrome=1&quot; http-equiv=&quot;X-UA-Compatible&quot;/&gt;</span></span><br><span class="line"><span class="string">&lt;meta content=&quot;width=1400&quot; name=&quot;viewport&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;title&gt;常州大学&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;meta content=&quot;常州大学&quot; name=&quot;keywords&quot;/&gt;</span></span><br><span class="line"><span class="string">&lt;meta content=&quot;常州大学&quot; name=&quot;description&quot;/&gt;&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">soup_object = BeautifulSoup(data,<span class="string">&quot;html.parser&quot;</span>)		<span class="comment"># 得到一个可解析的对象</span></span><br><span class="line"><span class="comment"># 寻找一个符合特点的对象</span></span><br><span class="line">soup_object.find(name = <span class="string">&quot;xxx&quot;</span>,attrs = &#123;<span class="string">&quot;id&quot;</span>: <span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;class&quot;</span>: <span class="string">&quot;xxx&quot;</span>&#125;)	</span><br><span class="line"><span class="comment"># 寻找具有共同特点的全部对象</span></span><br><span class="line">soup_object.find_all(name = <span class="string">&quot;xxx&quot;</span>,attrs = &#123;<span class="string">&quot;id&quot;</span>: <span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;class&quot;</span>: <span class="string">&quot;xxx&quot;</span>&#125;)	</span><br><span class="line"><span class="comment"># 得到一个标签之后，可以获取它的全部属性</span></span><br><span class="line">res.text	<span class="comment"># 文本值</span></span><br><span class="line">res.attrs[<span class="string">&quot;src&quot;</span>]</span><br><span class="line">res.attrs[<span class="string">&quot;name&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="一个抓取联通网上商城商品信息的案例"><a href="#一个抓取联通网上商城商品信息的案例" class="headerlink" title="一个抓取联通网上商城商品信息的案例"></a>一个抓取联通网上商城商品信息的案例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">FILE_PATH = <span class="string">&quot;picture&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">url, file_path</span>):</span><br><span class="line">    pic = requests.get(url=url)</span><br><span class="line">    <span class="comment"># 2.保存到本地</span></span><br><span class="line">    <span class="keyword">if</span> pic:</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, mode=<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(pic.content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run</span>():</span><br><span class="line">    <span class="comment"># 创建文件</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(FILE_PATH):</span><br><span class="line">        os.makedirs(FILE_PATH)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 返回的所有数据（响应头，响应体）</span></span><br><span class="line">    res = requests.get(</span><br><span class="line">        url=<span class="string">&quot;http://s.10010.com/hebei/mobilelist-0-0-0-0-0-0-0-0-29-0-0-p2/&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 解码</span></span><br><span class="line">    data = res.content.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取HTML格式的可解析对象</span></span><br><span class="line">    soup_object = bs(data, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 逐步获取对象</span></span><br><span class="line">    goods_object_list = soup_object.find_all(name=<span class="string">&quot;li&quot;</span>, attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;goodsLi&quot;</span>&#125;)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> goods_object_list:</span><br><span class="line">        name_object = item.find(name=<span class="string">&quot;p&quot;</span>, attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;mobileGoodsName&quot;</span>&#125;).find(name=<span class="string">&quot;a&quot;</span>).text.strip()</span><br><span class="line">        price_object = item.find(name=<span class="string">&quot;p&quot;</span>, attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;evaluation&quot;</span>&#125;).text.strip()</span><br><span class="line">        price = re.findall(<span class="string">&quot;￥(\d+)&quot;</span>, price_object)[<span class="number">0</span>]</span><br><span class="line">        comment_object = item.find(name=<span class="string">&quot;p&quot;</span>, attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;evalNum&quot;</span>&#125;).find(name=<span class="string">&quot;a&quot;</span>).text.strip()</span><br><span class="line">        comment = re.findall(<span class="string">&quot;已有(\d+人)评价&quot;</span>, comment_object)[<span class="number">0</span>]</span><br><span class="line">        img_url = item.find(name=<span class="string">&quot;img&quot;</span>).attrs[<span class="string">&quot;data-original&quot;</span>]</span><br><span class="line">        file_name = <span class="string">&quot;&#123;&#125;.jpg&quot;</span>.<span class="built_in">format</span>(img_url[-<span class="number">18</span>:-<span class="number">1</span>])</span><br><span class="line">        file_path = os.path.join(FILE_PATH, file_name)</span><br><span class="line">        download(img_url, file_path)</span><br><span class="line">        line = <span class="string">&quot;&#123;&#125;|&#123;&#125;|&#123;&#125;|&#123;&#125;|&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(name_object, <span class="built_in">int</span>(price), comment, img_url, file_path)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;db.txt&quot;</span>, mode=<span class="string">&quot;a&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(line)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure>



</div><script src="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-01-15</span>
            
                <span>该篇文章被 邓胖胖</span>
            
            
                <span>打上标签:
                    
                    
                        <a href='/tags/Python/'>
                            Python
                        </a>
                    
                </span>
             
             
                <span>归为分类:
                    
                    
                        <a href='/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/'>
                            学习笔记
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>上一篇：<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">上一篇：<a href=""></a></span>
    </div> -->

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--目录-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--回到顶部按钮-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- 回到顶部的按钮-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- 返回的按钮-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>