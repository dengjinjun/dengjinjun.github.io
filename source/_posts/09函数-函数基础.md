---
title: 函数-函数基础
date: 2023-08-15 22:39:36
tags: python
---



# 函数-函数基础

## 函数的定义

函数就是一大堆代码，给这一大堆代码起个名字，方便调用。比如：

```python
def 函数名():
    ……
    ……
    ……
#开始调用
函数名()
#调用结束
```

比如，用python代码发邮件：

```python
# 发邮件
# 1.导入python内置模块
import smtplib
from email.mime.text import MIMEText
from email.utils import formataddr

# 2.构邮件内容
message = MIMEText("你好，别玩了去学习！","html","utf-8")
message["From"] = formataddr(["邓胖胖","dengjinjun0805@126.com"])
message['to'] = "498790885@qq.com"
message['Subject'] = "准研究生"

# 3.发送邮件
server = smtplib.SMTP_SSL("smtp.126.com")
server.login("dengjinjun0805@126.com", "QGQPCNRRUKHFPIJA")
server.sendmail("dengjinjun0805@126.com", "498790885@qq.com", message.as_string())
server.quit()
```

可以定义为一个发邮件的函数：

```python
# 发邮件
# 1.导入python内置模块
import smtplib
from email.mime.text import MIMEText
from email.utils import formataddr

# 定义函数
def to_email():
    # 2.构邮件内容
	message = MIMEText("你好，别玩了去学习！","html","utf-8")
	message["From"] = formataddr(["邓胖胖","dengjinjun0805@126.com"])
	message['to'] = "498790885@qq.com"
	message['Subject'] = "准研究生"

	# 3.发送邮件
	server = smtplib.SMTP_SSL("smtp.126.com")
	server.login("dengjinjun0805@126.com", "QGQPCNRRUKHFPIJA")
	server.sendmail("dengjinjun0805@126.com", "498790885@qq.com", message.as_string())
	server.quit()

# 调用函数
to_email()
```

## 函数的参数

### 静态参数

```python
# 定义函数时，括号里可以包括一些参数，称为形式参数
def 函数名(形参1,形参2,形参3):
    ……
    ……
调用函数时，需要在括号里一些参数作为对应，称为实际参数
函数名(实参1,实参2,实参3)
# 函数要求几个参数，就需要传入几个参数，参数可以是任意类型
```

函数参数的传递方法有三种，按位置传参，按关键字传参和混合传参

```python
# 按位置传参
def func(a1,a2,a3):
    ……
    ……
func(1,2,3)	# a1 = 1,a2 = 2,a3 = 3 需要注意实参的次序与形参相对应
```

```python
# 按关键字传参
def func(a1,a2,a3):
    ……
    ……
func(a1 = 1,a2 = 2,a3 = 3)	# 不需要注意顺序
```

```python
# 混合传参
def func(a1,a2,a3):
    ……
    ……
func(1,2,a3 = 3)	# 需要注意位置传参在前，关键字传参在后
```

另外，函数在定义时，也可以指定默认参数，若没有实参传入时，就使用默认参数。比如：

```python
def func(a1,a2=2,a3=3):	# 需要注意含有默认参数的关键字必须放在后面
    ……
    ……
```

### 动态参数

定义函数时，可以不限制参数的个数

- 在形参前面加`*`，比如：

```python
def func(*args):	#用户传来的参数都会被打包成元组的类型,按照位置传参
    ……
    ……
func(1)		# a1 = (1,)
func(1,2,3)	# a1 = (1,2,3)
func([22,33],"常州大学",1，2)	# a1 = ([22,33],"常州大学",1，2)
```

- 在形参前面加`**`，比如：

```python
def func(**kwargs):	# 用户传来的参数会被打包成字典的类型，必须以关键字的形式传参
    ……
    ……
func(a1 = 1,a2 = 2,a3 = 3)	# dt = {'a1': 1, 'a2': 2, 'a3': 3}
```

- 静态参数和动态参数`*,**`混合使用,比如：

```python
def func(a1,a2,a3,*args,**kwargs):	#静态参数必须放到动态参数前面，*必须放到**前面
    ……
    ……
func(1,2,3,4,5,6,v1 = 1,v2 = 2,v3 = 3)
# 位置参数在前，关键字参数在后，静态参数按顺序分配之后分配*动态参数，然后分配**动态参数
```

潜规则：含有动态参数的函数在定义时，形参的变量名一般使用`*args`和`**kwargs`

## 函数的基本用法

### 函数的返回值

定义一个函数，希望它产生一个结果，可以用到返回值。调用函数时，可以用一个变量来接收这个返回值。

返回值可以是任意类型。如果返回一组分散的变量，则会打包成元组。如果没有返回值，默认返回None。

在函数运行过程中 ，遇到`return()`会立即结束运行并返回值。

### 函数的调用

函数的定义必须写在调用之前。

一个函数可以调用另一个函数。

函数的参数在传递时，本质上传递的是内存地址（引用），不会重新拷贝一份再传递。

而函数内部在操作数据时，是重新生成数据还是修改原数据，取决于参数的数据类型是否是可变的。

```python
# 可变类型：列表、字典、集合
# 不可变类型：整型、字符串、布尔类型、元组
```

当函数同时执行时，会为每个执行的函数创建一块内存（调用栈），因此数据不会混乱

### 函数的作用域

作用域可以理解为一块内存空间，只要在这个内存空间内就可以共享这个区域的数据。

`python`具有一个全局作用域，只要`python`代码运行，就在此全局作用域中运行。

`python`中以函数为作用域，执行一个函数，就会为函数创建一个作用域。

### 关于变量

`python`中的变量分为全局变量和局部变量。

全局变量：在`python`文件顶层中定义的变量。

局部变量：在函数中定义的变量。

潜规则：在定义全局变量时用大写，定义局部变量时用小写，多个单词用下划线连接。

寻找变量的值时，优先从自己的作用域中寻找，没有的话就从父级作用域中找。

- `global`关键字

​	当函数中使用`global`关键字时，表明此变量不是新创建的变量，而是指向全局变量。比如：

```python
NAME = "张三"
def func():
    NAME = "李四"
    print(NAME)
print(NAME)	# "张三"
```

```python
NAME = "张三"
def func():
    global NAME
    NAME = "李四"
    print(NAME)
print(NAME)	# "李四"
```

