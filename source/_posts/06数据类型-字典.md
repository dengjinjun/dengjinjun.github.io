---
title: 数据类型-字典
date: 2023-08-15 22:39:36
tags: python
---



# 数据类型-字典（dict)

字典是一个元素只能是键值对且键不重复的可变的容器。（`python3.6`之前字典中的元素是无序的）比如：

```python
info = {"k1":123,"k2":456}	# 里面的元素称为键值对
# 如果键重复，数据将会覆盖
```

键必须是可哈希类型：

```python
int bool str tuple	# 可哈希类型
list dict			# 不可哈希类型，即字典和列表不可作为键名
```

## 独有功能

### 通过键名获取值

字典通过`get()`来获取值，括号中是键名。比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
v2 = v1.get("name")			# v2 = "邓胖胖"
v3 = v1.get("email")		# v3 = None 如果键名不存在，则返回None
v4 = v1.get("hobby","xxx")   # v4 = "学习" 如果键名存在，则返回键值，如果不存在，则返回"xxx"
```

### 获取所有键

字典可以通过`key()`来获取字典中的所有键名，比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
v2 = v1.keys()	# v2 = dict_keys(['name', 'age', 'hobby'])
# 此时的v2是一个类似于列表的对象,可以进行for循环
v3 = list(v2)	# v3 = ['name', 'age', 'hobby'],这是一个真正的列表
```

### 获取所有值

字典可以通过`values()`来获取字典中的所有值，比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
v2 = v1.values()	# v2 = dict_values(['邓胖胖', 23, '学习'])
# 此时的v2也是一个类似于列表的对象,可以进行for循环
v3 = list(v2)		# v3 = ['邓胖胖', 23, '学习'],这是一个真正的列表
```

### 获取所有键值对

字典可以通过`items()`来获取字典中的所有键值对，比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
v2 = v1.items()	# v2 = dict_items([('name', '邓胖胖'), ('age', 23), ('hobby', '学习')])
# 此时的v2也是一个类似于列表的对象,里面的每个元素都是一个元组，可以通过for循环输出每个键值对，也可以通过解包获取到单个的键和值
for key,value in v2:
	print(key,value)	
# 两个变量名是随意的    
v3 = list(v2)	# v3 = [('name', '邓胖胖'), ('age', 23), ('hobby', '学习')]这是一个真正的列表
```

## 公共功能

### 获取长度

通过`len()`获取字典中键值对的个数，比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
len(v1)		# 3
```

### 索引

与字符串、列表和元组中的索引不同，字典中的索引是指键名，比如：

```python
v1 = {"name":"邓胖胖","age":23,"hobby":"学习"}
data = v1["name"]	# "邓胖胖"
# 一般推荐使用v1.get("name")的方式来获取键值，因为通过索引取值，若键名不存在会报错
v1["age"] = "24"	# 通过索引来修改键值对
v1["email"] = "xx@xxxx"	# 若键名不存在，则会新增一个键值对
del v1["hobby"]		# 通过索引来删除一个键值对，若键名不存在，则会报错，可以先进行判断
# if "hobby" in v1:
#     del v1["hobby"]
```

### 循环

通过`for()`循环输出字典中的所有键名或键值或键值对，独有功能中已经描述。

### 包含

使用`in`判断字典中是否包含某个键。比如：

```python
if "hobby" in v1:
    del v1["hobby"]
```

## 字典推导式

字典推导式的方法与列表推导式基本相同，第一部分是键值对的形式，键和值都可以自定义

```python
data_dict = {i:pow(i,2) for i in range(11) if i>5}	# 需要注意键必须是可哈希类型
# {6: 36, 7: 49, 8: 64, 9: 81, 10: 100}
```

