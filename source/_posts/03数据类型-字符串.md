---
title: 数据类型-字符串
date: 2023-08-15 22:39:36
tags: python
---



# 数据类型-字符串（str）

字符串是一个不可变类型。

字符串用一对双引号或一对单引号作为开头和结尾，只能表示单行的字符串,之所以可以用单引号或双引号是为了当字符串里面出现单引号或双引号时出现歧义，用三对双引号或三对单引号表示多行的字符串。

```python
单行文本
'字符串'
"字符串"
多行文本
"""字符串"""
'''
字
符
串
'''
```

字符串乘以数字，表示让字符串重复多少次

```python
print('6'*3)	#666
```

部分整型和字符串可以相互转换，比如

```python
str(19)			把整型数据类型19转换成字符串类型
int('19')		把字符串类型的19转换成整型
int('字符串')		这样的无法转换
```

## 第一节 字符串的独有功能

字符串类型具有独有的功能，使用方法有两种,比如字符串`n1 = "root"`，①`n1.功能名()`	②`"root".功能名()`

### 大小写功能

  英文字符串可以使用`upper()`可以使之转化为大写，使用`lower()`使之转化为小写，比如：

```python
n1 = root
n2 = WHERE
n3 = n1.upper()	 # n3是一个新的字符串，n3 = UPPER
n4 = n2.lower()	 # n4是一个新的字符串，n4 = where
```

### 判断字符串是否可以转化为整型

​	使用`isdecimal()`可以判断一个字符串是否可以转化为整型，结果会得到一个布尔值，比如：

```python
n1 = "123"
n2 = "张三"
b1 = n1.isdecimal()	#b1 = True
b2 = n2.isdecimal()	#b2 = False
```

### 判断字符串是否以”xx“开头或”xx“结尾

​	使用`startswith()`判断是否以某字符串开头，使用`endwith()`判断是否以某字符串结尾

```python
n1 = "中华人民共和国"
b1 = n1.startswith("中华")	#b1 = True
b2 = n1.endswith("中华")	#b2 = False
```

### 去除空白

​	空白是指空格、回车、制表符，使用`strip()`去除左右两边的空白，使用`lstrip()`和`rstrip()`分别去除左边和右边的空白，上述三种方法并不能去除字符串中间的空白。

```python
n1 = " 台湾省 "
v1 = n1.strip()		#v1 = "台湾省"
v2 = n1.lstrip()	#v2 = "台湾省 "
v3 = n1.rstrip()	#v3 = " 台湾省"
```

### 替换字符串中的部分内容

​	使用`replace()`将字符串中的部分内容替换为另一部分内容

````python
n1 = "常州大学西太湖校区"
n2 = n1.replace("西太湖","武进")		#n2 = "常州大学武进校区"
````

### 切割字符串

​	使用`split()`将字符串切割为几个部分,切割后得到的是一个列表，通过索引来获取各个切割后的各个部分

```python
campu_name = "常州大学-西太湖校区"
name_list = campu_list.split("-")	#name_list = [ "常州大学" , "西太湖校区" ]
name_list[0]						#"常州大学"
name_list[1]						#"西太湖校区"
```

### 字符串拼接的三种方法

将多个字符串拼接起来有三种方法：①通过`"+"`	②字符串格式化	③通过`join()`

- 通过`"+"`

```python
n1 = "常州大学西太湖校区"
n2 = "常州大学"+"西太湖校区"		#n2 = "常州大学西太湖校区"
```

- 字符串格式化

  - 使用`format()`（推荐）

    在一个字符串中使用{}代表了一个占位符，在字符串后面加上`.format()`可以传入其他字符串到占位符里，比如

    ```python
    text="我是{0}，今年{1}岁".format("邓金俊",22)
    #text=我是邓金俊，今年22岁
    ```

    也可以不使用0，1的序号，那么`format()`里面的字符串将会按顺序传入占位符里，比如

    ```python
    text="我是{0}，今年{1}岁".format("邓金俊",22)
    #text=我是邓金俊，今年22岁
    ```

    可以不使用0，1的序号，而是在`format()`里面给进行替换的字符串命名，使用变量名来指代字符	串，比如

    ```python
    text="我是{name}，今年{age}岁".format(name="邓金俊",age=22)
    #text=我是邓金俊，今年22岁
    ```

    字符串可以重用，比如

    ```python
    text = "我是{0}，今年{1}岁"
    text1 = text.format("张三", 13)	#text1=我是张三，今年13岁
    text2 = text.format("李四", 14)	#text2=我是李四，今年14岁
    ```

  - 使用`%`

    在一个字符串中使用`%`代表占位符，在字符串后面使用空格加上一个`%`可以传入其他字符串到占位符里。`%s`、`%d`分别代表一个字符串和一个整型的占位符，与C语言中相似，比如：

    ```python
    text="我是%s，今年%d岁" %("邓金俊",22)
    #text=我是邓金俊，今年22岁
    ```

    字符串按顺序传入，与`format()`的用法相似，也可以进行字符串的重用

  - 使用`f-string`

    预先给字符串命名，需要传入字符串时再使用{}传入，字符串前要加上`f`。`f-string`是Python3.6版本后才出现的用法,比如:

    ```python
    name="邓金俊"
    age=22
    text=f"我是{name}，今年{age}岁"
    #text=我是邓金俊，今年22岁
    ```

- 通过`join()`将列表中的字符串拼接起来

  列表中必须全部都是字符串，通过任意符号将所有字符串按顺序连接，比如：

  ```python
  name_list = [ "张三" , "李四" , "王五" ]
  n1 = "和".join(name_list)	# n1 = "张三和李四和王五"
  n2 = "".join(name_list)		# n2 = "张三李四王五" 
  ```

### 字符串和字节类型的转化

​	python中默认使用的是unicode方式编码的字符串类型，可以使用`encode()`将字符串类型转化为字节类型，使用`decode()`将字节类型转化为字符串类型，比如：

```python
n1 = "常州大学"
v1 = n1.encode("utf-8")	# 此时v1是字节类型，v1 = b'\xe5\xb8\……\xa6',b'表示是字节类型
n2 = v1.decode("utf-8")	# 此时v2是字符串类型，v2 = "常州大学"
```

### 字符串长度的补足

​	当需要将字符串的长度未达到预设的长度时，可以使用`center()`、`ljust()`、`rjust()`对字符串长度进行补足，括号里放预设的长度和任意的填充符，`center()`是将字符串放到填充符的中间，`ljust()`和`rjust()`是将字符串放到填充符的左边和右边，比如：

```python
n1 = "常州大学"
v1 = n1.center(13,"-")	# v1 = -----常州大学----
v2 = n1.ljust(13,"*")	# v2 = 常州大学*********
v3 = n1.rjust(13," ")	# v3 =          常州大学
```

### 字符串左边补0

​	使用`zfill()`在字符串的左边进行补0，直到达到预设长度，是`ljust()`的子集用法，常用于二进制字符串

```python
data = "01101"
v1 = data.zfill(8)	# v1 = "00001101"
```

## 第二节 字符串的公共功能

### 获取长度

​	使用`len()`获取字符串长度，比如：

```python
name = "百里守约"
l1 = len(name)	# l1= 4
text = "紫霞仙子yyds"
l2 = len(text) # l2 = 8
```

### 字符串的索引

字符串的每个字符都有索引，通过字符串名称+[]获取，比如：

```python

text = "常州大学西太湖校区"
#       0 1 23 4 56 7 8	一共9个字符
# 也可以从后往前      -2-1
text[0] # "常"
text[4] # "西"
text[-1]# "区"
text[9] # 报错
```

### 将字符串切片

通过字符串每个字符的索引，可以截取一部分字符串，通过text[索引号:索引号]获取，比如：

```python
text = "常州大学西太湖校区"
#       0 1 23 4 56 7 8	一共9个字符
# 也可以从后往前      -2-1
text[0:7] # "常州大学西太湖" 从第一个索引号开始，取到第二个索引号的前一位
text[4:7] # "西太湖"
text[0:-2]# "常州大学西太湖"	也可以按照从后往前的索引号
text[4:]  # "西太湖校区"	省略第二个索引号，直接截取剩余全部
text[:-1] # "常州大学西太湖校"	省略第一个索引号，从第一个字符开始截取
text[:]   # "常州大学西太湖校区"	两个索引号都省略，截取全部字符串

#注意事项：1.索引号是从0开始计数的	2.前取后不取
```

### 循环输出字符串

将字符串中的单个字符循环输出，两种方式，一种是通过字符索引+`while`循环，另一种是通过`for`循环，比如：

```python
data = "123456"
for item in data:
    print(item)
# 1	 2	3	4	5	6
# item并不是关键字，而是一个普通变量名，可替换
```

### 包含

使用`in`判断字符串中是否包含某个字符串，比如：

```python
text = "常州大学西太湖校区"
if "常州大学" in text:	# True
	pass
```









