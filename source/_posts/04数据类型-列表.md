---
title: 数据类型-列表
date: 2023-08-15 22:39:36
tags: python
---



# 数据类型-列表(list)

列表是一个有序且可变的容器，里面的元素可以是不同的数据类型。

与字符串不同的是，列表是可变类型，绝大部分的功能都是对原列表进行操作。

## 第一节 列表的独有功能

### 追加

通过`append()`在列表末尾追加一个元素，括号中是要追加的元素或者变量名，比如：

```python
list1 = [1,2,3]
list2 = list1.append(55)	#list2 = [1,2,3,55]
```

### 插入

通过`insert()`在列表中任意位置插入一个元素，括号中是索引值和要追加的元素，比如：

```python
list1 = ["张三","李四",3,True]
list1.insert(2,"常州大学")	# list1:["张三","李四","常州大学",3,True]
#要插入的位置如果已经存在元素，则向后顺延
```

### 删除

删除有两种方式，一种是`remove()`通过元素值在列表中删除一个元素，比如：

```python
list1 = ["张三","李四",3,True]
list1.remove("3")	# list1:["张三","李四",True]
#如果列表中存在多个相同元素，则只会删除索引值从小到大起的第一个
#如果列表中不存在括号中的元素，则会报错
```

另一种是`del`，通过索引值在列表中删除一个元素，比如：

```python
list1 = ["张三","李四",3,True]
del list1[2]	# list1:["张三","李四",True]
```

### 出列

通过`pop()`在列表中获取到一个元素，该元素在列表中移出，括号中是索引值，比如：

```python
list1 = ["张三","李四",3,True]
data = list1.pop(2)	# data = 3	list1:["张三","李四",True]
```

### 清空列表

通过`clear()`清空列表中的所有元素，比如：

```python
list1 = ["张三","李四",3,True]
list1.clear()	# list1:[]
```

### 排序

通过`sort()`将列表中的元素进行排序，比如：

```python
list1 = ["3","1","8"]
list1.sort()			# ["1","3","8"] sort默认是从小到大排序
list.sort(reverse=True)	# ["8","3","1"] 括号中填入reverse=True，会逆序排序
# 只能对列表进行排序，且是在原列表的基础上排序
# 当列表中的元素是字符串时，会按照首个字符的Unicode编码顺序排列
```

## 第二节 列表的公共功能

### 获取长度

通过`len()`获取列表的长度，即列表中元素的个数，比如：

```python
list1 = ["3","1","8"]
len(list1)	#3
```

### 列表的索引

列表中的元素同样对应索引值，从`0`开始，也可以从后往前取，从`-1`开始。

通过索引值可以对列表中的元素进行获取，修改和删除。

列表可以嵌套，即列表中的元素可以是一个列表，子列表中的每一个元素同样具有独立的索引值

### 切片

与字符串中的切片功能类似，通过两个索引值，截取列表中的部分元素，比如：

```python
list1 = ["张三","李四",3,True]
list1[1:3]	#["李四",3] 前取后不取
list1[1:-1] #["李四",3] 也可以根据负数索引值
list1[:]	#["张三","李四",3,True] 省略两个索引值，截取全部字符串
list1[1:]	#["李四",3,True] 省略第二个索引值，截取剩余的全部元素
list1[:2]	#["张三","李四",] 省略第一个索引值，从第一个元素开始截取
```

对拿到的切片列表可以进行修改，比如：

```python
list1 = ["张三","李四",3]
list1[0:2] = [1,2]
print(list1)	# [1, 2, 3]
```

也可以对拿到的切片列表进行删除，比如：

```python
list1 = ["张三","李四",3]
del list1[0:2]
print(list1)	# [3]
```

### 循环输出列表元素

使用`for`可以循环输出列表元素，具有与字符串同样的操作：

```python
data_list = [11,22,33,44]
for item in data:
    print(item)
# 11   22	33	44
```

### 包含

使用`in`判断列表中是否包含某个元素。

## 列表推导式

python中提供了简便的语法，用一行代码生成列表、字典中的多个元素。

这是一个完整的推导式，括号内有三个部分，第一个部分是每次要生成的元素，第二个部分是生成元素的次数，第三个部分是元素需要满足的条件

```python
data_list = [i for i in range(101) if i > 10]	# 大于10的100以内的整数
# [11,12,13,……,100]
```

```python
data_list = [i for i in range(101)]	# 100以内的整数
# [1,2,3,……,100]
```

```python
data_list = [3 for i in range(101)]	# 第一部分可以是任意数据类型
# [3,3,3,……,3] 循环100次，100个3
```

```python
data_list = [[1,2] for i in range(101)]	# 第一部分可以是任意数据类型
# [[1,2],[1,2],[1,2],……[1,2]] 循环100次，100个[1,2]
```

```python
data_list = ["位序为{}"。format(i) for i in range(101)]	# 第一部分也可以是表达式
# ["位序为1"，"位序为2"，"位序为3",……,"位序为100"]
```

```python
data_list = [11,"cczu",{1,2,},34,True]
result = [item,for item in data_list if type(item)==int]	# [11, 34]
```



